Sun Apr  4 12:37:41 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.3 is released.

Fri Apr  2 10:13:57 1993  H.J. Lu  (hlu@nighthawk)

	* fix <stdio.h> and <sys/log.h>: include <stdarg.h> only if
	  __STDC__ is defined.

Thu Apr  1 13:53:19 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2i is released.

Tue Mar 30 15:23:22 1993  H.J. Lu  (hlu@nighthawk)

	* modify ./libc-linux/termcap/termcap.c for broken TIOCGWINSZ.
	  make sure ws.ws_row and ws.ws_col are not zero.

Mon Mar 29 15:40:05 1993  H.J. Lu  (hlu@nighthawk)

	* in ./libc-linux/Makefile, fix a typo.

Sun Mar 28 11:59:01 1993  H.J. Lu  (hlu@nighthawk)

	* from Bruce Evans <bde@runx.oz.au> with a few changes:
	  ./libc-linux/posix/getcwd.c:
		'dirstream' was not being closed when the buffer was
		too small (try size 3 in /tmp).  While fixing this
		I noticed several other bugs with resources not being
		freed, and fixed a couple. See the XXX comment for
		more details.

	  ./libc-linux/posix/execl.c:
	  ./libc-linux/posix/execle.c:
	  ./libc-linux/posix/execlp.c:
		Cases where argv [0] == NULL and argc > 8192 were
		botched.

Sat Mar 27 13:54:22 1993  H.J. Lu  (hlu@nighthawk)

	* add -m486 to LDFLAGS if I486 = true in
	  ./libc-linux/Makefile. You need the latest binutils.tar.z
	  for that.

Sat Mar 27 11:54:22 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2h1 is released.

Fri Mar 26 23:15:08 1993  H.J. Lu  (hlu@nighthawk)

	* fix __gethostname () type and include <unistd.h> in
	  ./libc-linux/sysdeps/linux/__gethstnm.c.

	* clean up libc-linux/malloc/Makefile.

	* get libc-linux/malloc-930326 from Mike Haertel,
	  mike@cs.uoregon.edu. remove libc-linux/malloc-930325.

	* modify jump/libc/jump.vars and jump/libc.lite/jump.vars to
	  undefine __aligned_blocks, ___morecore and __mb_shift

	* modify jump/libc/jump.ignore and jump/libc.lite/jump.ignore to
	  add __aligned_blocks, ___morecore and __mb_shift

	* change libc-linux/malloc-930325/valloc.c from Mike Haertel,
	  mike@cs.uoregon.edu.

	* restore libc-linux/malloc-930325/malloc.h from Mike Haertel,
	  mike@cs.uoregon.edu. 

	* remove libc-linux/malloc-930325/memalign.c from
	  libc-linux/malloc, which is a SunOS invention and is not in
	  ANSI C, POSIX 1003.1, or 4.3BSD. You now have to use libg.a
	  to use it.

	* modify libc-linux/malloc-930325/Makefile.

	* modify jump/libc/jump.funcs and jump/libc.lite/jump.funcs to
	  undefine memalign.

	* add libc-linux/malloc-930325/README.Linux.

Fri Mar 26 16:15:08 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2h is released.

	* remove the internal malloc stuff from <malloc.h>.

	* in libc-linux/malloc, add -I. -I. -I. in Makefile and
	  make libmcheck.a only if DEBUG is defined; apply fix from
	  Mike Haertel, mike@cs.uoregon.edu for malloc.c, malloc.h
	  and realloc.c.

	* new directory libc-linux/malloc-930325, a fast malloc
	  implementation from Mike Haertel, mike@cs.uoregon.edu, which
	  is the basis of GNU malloc. This version differs from the GNU
	  version in that it does not support debugging hooks, and does
	  not record statistics. Therefore it is slightly faster. we
	  use it in libc.a and libc_p.a. the GNU malloc is kept in
	  libg.a. We need speed.

	* modify ./libc-linux/Makefile: use ./libc-linux/malloc only if
	  DEBUG is defined (for libg.a) and for the other libraries
	  use ./libc-linux/malloc-930325.

	* modify jump/libc/jump.funcs and jump/libc.lite/jump.funcs to
	  undefine mcheck, mtrace, mstats and _free_internal. You now
	  have to use libg.a to use them.

Thu Mar 25 23:14:31 1993  H.J. Lu  (hlu@nighthawk)

	* add __vt$xxxxxxxx from fstream.o in iostream to
	  jump/libc/jump.vars and jump/libc.lite/jump.vars, and
	  pad the size of them to 0x50 bytes. delete them from
	  jump/libc/jump.ignore and jump/libc.lite/jump.ignore.

	* add __old_libc.c and __old_libm.c to ./libc-linux/compat
	  for backward compatility. Also change ./libc-linux/Makefile.

Tue Mar 23 23:13:35 1993  H.J. Lu  (hlu@nighthawk)

	* modify ./libc-linux/misc/ldexp.c from glibc 1.05.

	* include <time.h> in <sys/times.h> for CLK_TCK.

	* siginterrupt () (sigint.c) is added: libc-linux/bsd/sigint.c
	  and libc-linux/bsd/Makefile. add siginterrupt () to the ends
	  of ./libc-linux/jump/libc/jump.funcs and
	  ./libc-linux/jump/libc.lite/jump.funcs.

Mon Mar 22 16:58:07 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2g1 is released.

	* fix a stupid typo in ./libc-linux/Makefile which
	  will prevent __load.o being included in libc.sa.

Sun Mar 21 17:41:26 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2g is released.

Sat Mar 20 12:09:48 1993  H.J. Lu  (hlu@nighthawk)

	* change ./libc-linux/Makefile: get __load.o from the static
	  libc.a.

	* include <nlist.h> instead of <a.out.h> in
	  ./libc-linux/sysdeps/linux/nlist.c.

	* fix ./libc-linux/inet/inet_addr.c.

	* undo sa_flags = SA_RESTART for bsd singnal in <signal.h>.

	* undo sa_flags = SA_RESTART in
		./libc-linux/posix/system.c
		./libc-linux/gmon/profil.c

Fri Mar 19 17:41:26 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2f is released.

Wed Mar 17 15:07:42 1993  H.J. Lu  (hlu@nighthawk)

	* fix typos in ./libc-linux/termcap/termcap.c.

	* in ./libc-linux/sysdeps/linux/i386/mmap.c, mmap ()
	  just returns _mmap ().

	* add fsync () to the ends of ./libc-linux/jump/libc/jump.funcs
	  and ./libc-linux/jump/libc.lite/jump.funcs.  add it to
	  <unistd.h> and remove it from libc-linux/libbsd.

	* add _validuser () to the ends of 
	  ./libc-linux/jump/libc/jump.funcs
	  and ./libc-linux/jump/libc.lite/jump.funcs.
	  remove it from ./libc-linux/jump/libc/jump.ignore.
	  and ./libc-linux/jump/libc.lite/jump.ignore.

	* in <sys/syscall.h>, rename SYS_syslog to sys_klog.
	  add SYS_sysinfo, SYS_ipc and SYS_fsync. they are not
	  implemented in the stock kernel yet.

	* in ./libc-linux/sysdeps/linux add a fake fsync () [fync ()] in
	  fsync.c and Makefile. change to system call later.

Tue Mar 16 16:09:23 1993  H.J. Lu  (hlu@nighthawk)

	* set sa_flags = SA_RESTART for bsd singnal in <signal.h>.
	  need 0.99 pl8 for that.

	* set sa_flags = SA_RESTART in
		./libc-linux/posix/system.c
		./libc-linux/gmon/profil.c

Mon Mar 15 23:27:24 1993  H.J. Lu  (hlu@nighthawk)

	* fix warning in <gnu/wait.h>.

	* fix regcomp () in ./libc-linux/regex/regex.c:
	  add

		preg->allocated = 0;
		preg->used = 0;

	* apply fix for ./libc-linux/iostream/floatconv.C from Per
	  Bothner. define IEEE_8087 if i386 is defined and a small
	  bug fix.
	  
	* restore ./libc-linux/iostream/ioprivate.h.

Fri Mar 12 23:19:47 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2e is released.

	* apply the fix for XDR representation of floats and
	  doubles on i386 from jrs@world.std.com (Rick Sladkey),
	  ./libc-linux/rpc/xdr_float.c.
	 
	* apply termcap patches from obz@Kodak.COM (Orest Zborowski)
	  to termcap/termcap.c.

	  o	Fixed incorrect behavior when TERMCAP was set but
		didn't match TERM. This was a matter of fixing a
		missing else clause.

	  o	Added the ability to read the number of lines/columns
		from the current tty and set them in the capability
		string returned. This is the behavior that Sun has,
		and allows curses applications to take advantage of
		the entire screen.

	* modify ./libc-linux/Makecofig for libbsd.a.

Thu Mar 11 23:19:47 1993  H.J. Lu  (hlu@nighthawk)

	* add "regex" to DIRS in jumptable1/Makefile
	  if LITE is defined.

	* change WTMP_FILE to "/usr/adm/wtmp" in
	  <utmp.h>.

	* modify <sys/wait.h> for BSD codes and move
	  old one to <sys/wait.h.old>.

	* in ./libc-linux/sysdeps/linux/i386, modify
	  __wait.c, __wait3.c and __waitpid.c for new
	  <sys/wait.h>.

	* add a new diretory /usr/include/bsd with lots
	  of new header files for BSD codes. <bsd/sys/wait.h>
	  is not included.

	* add lots of new files to /usr/include/rpcsvc.
	  yppasswd.x is left out since it is not compatible
	  with the current <rpcsvc/yppasswd.h>.

	* copy <apra/ftp.h>, <net/if.h>, <net/if_arpa.h>,
	  <net/if_route.h> and <protocols/talkd.h> from
	  "Fred N. van Kempen" <waltje@metallica.uWalt.NL.Mugnet.ORG>.

	* modify files in ./libc-linux/rpc: get_myaddr.c,
	  pmap_getmaps.c, pmap_getport.c and pmap_rmt.c to
	  comment out <net/if.h> for the time being.

	* add ./libc-linux/libbsd from "Fred N. van Kempen"
	  <waltje@metallica.uWalt.NL.Mugnet.ORG>.

	* modify ./libc-linux/Makefile for ./libc-linux/libbsd. only
	  build it for static library.

Wed Mar 10 23:56:54 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2d is released.

	* fix ./libc-linux/sysdeps/linux/i386/Makefile and
	  ./libc-linux/Makefile.

	* fix typos in ./libc-linux/iostream/filebuf.C. don't
	  write any code at 3:30 am in the morning :-(.
	  I am too aggressive in fdopen (). relax a little,
	  only check O_APPEND ("a").

	* should we close the file descriptor on a stream
	  obtained with fdopen ()? iostream/stdio/fdopen.C.
	  the current scheme is YES.

	* copy ./jump/libc/jump.ignore to ./jump/libc.lite.

	* fix two typos in ./jump/libc.lite/jump.vars.

Wed Mar 10 13:56:54 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2c is released.

Tue Mar  9 23:56:54 1993  H.J. Lu  (hlu@nighthawk)

	* fix libc-linux/iostream/filebuf.C:
		filebuf::xspunts () calls streambuf::xspunts ()
		instread of streambuf::spunts ().
		filebuf::overflow() check if read buffer is full
		when changing from get mode to put mode.

	* change libc-linux/Makeconfig. only make libalias.a for
	  the shared library.

	* remove minix fs macro from <mntent.h>. getmntent () in
	  libc-linux/mntent/mntent.c return NULL if no filesystem
	  type is provided.

	* remove <sgtty.h>.

	* fix libc-linux/sysdeps/linux/i386/readir.c. POSIX says that
	  readdir() does not change errno when there are no more
	  entries.

	* remove "__" from networking routines in <resolv.h>. change
	  libc-linux/jump/libc/jump.funcs and
	  libc-linux/jump/libc.lite/jump.funcs.

Mon Mar  8 21:56:54 1993 H.J. Lu  (hlu@nighthawk)

	* fix libc-linux/sysdeps/linux/i386/sysdep.h for new
	  cpp in gcc, add ##.

	* remove error checking in string/strerr.c. trust
	  sprintf () :-).

Sun Mar  7 21:56:54 1993 H.J. Lu  (hlu@nighthawk)

	* According to POSIX, directory streams should be closed when
	  exec. "Anna Pluzhnikov" <besp@midway.uchicago.edu>
	  (Paul Pluzhnikov?) fixes ./libc-linux/dirent/opendir.c.

	* add FILE * check for some stdio functons. files in
	  ./libc-linux/iostream/stdio changed: fgetc.C, fputc.C,
	  fputs.C and macros.C.

Sun Mar  7 11:56:54 1993 H.J. Lu  (hlu@nighthawk)

	* version 4.3.2b is released.

	* modify <gnu/types.h> and <netinet/in.h> for strict
	  ANSI C, -pedantic.

	* fix filebuf::open () in iostream/filebuf.C to allow
	  setting up a filebuf on an open file descriptor for
	  fdopen ().

	* call filebuf::open (NULL, mode) in iostream/stdio/fdopen.C.

	* fix ./libc-linux/mntent/mntent.c from "Fred N. van Kempen"
	  <waltje@metallica.uWalt.NL.Mugnet.ORG> for comment lines in
	   /etc/fstab.

Sat Mar  6 22:20:08 1993  H.J. Lu  (hlu@nighthawk)

	* add some functions to libm.a.
	  add new directory: ./libc-linux/math.
	  add new files in ./libc-lunux/sysdeps/linux/i386/math:
		__copysign.c, __infnan.c, __isinf.c, __isnan.c,
		__rint.c.
	  add them to the shared math library, jump/libm/jump.funcs.
	  modify ./libc-linux/Makefile for those additions.
	  add those new declarations to <math.h>.
	  add two new header files <huge_val.h> and <nan.h>.
	  change ./libc-lunux/sysdeps/linux/i386/math/drem.S to
		__drem.S and add an alias to drem ().
	NOTE: most of the new header files and functions are from
	      glibc 1.05.

	* not to use the general syscall macros for _exit ().
	  move libc_exit.c to ./libc-linux/sysdeps/linux/i386.

	* add -Wstrict-prototypes -Wmissing-prototypes to
	  ./libc-linux/Makeconfig.

Fri Mar  5 23:32:27 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2a is released.

	* change all "linux" to "__linux__" in some header files.

	* add the YP header files. no library code yet. need more
	  kernel support.

	* not to use the general syscall macros for __sigsetmask()
	  and __siggetmask(). move __siggtmsk.c and __sigstmsk.c
	  to ./libc-linux/sysdeps/linux/i386.

	* add IEEE_8087 to iostream/ioprivate.h for correct strtod ()
	  in libc-linux/iostream/floatconv.C. That fixes a very serious
	  FP bug.

	* fix string/strerr.c, not to null terminate the string.

	* fix
		char * strstr (const char *s1, const char *s2);
	  in string/strstr.c. If s2 points to a string with zero
	  length, the function returns s1.

Thu Mar  4 14:52:04 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.2 is released. rename version 4.3.1f to 4.3.2.

Wed Mar  3 16:12:12 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1f is released.

	* change Makefiles for stupid SVR3.

Tue Mar  2 13:42:24 1993  H.J. Lu  (hlu@nighthawk)

	* change volatile to __volatile__ in <syscall.h>.

	* fix dirent/alphasort.c, dirent/scandir.c and <dirent.h>:
	  the correct alphasort () is:

	  extern int alphasort (
		const struct dirent * const *,
		const struct dirent * const *
		);

	  thanks to alfie@dcs.warwick.ac.uk (Nick Holloway).

	* change __PATH_ETC to __PATH_ETC_INET. change <paths.h>
	  and <netdb.h>. change __PATH_ETC_INET from "/usr/etc/inet"
	  to "/etc/inet". change inet/gethstnmad.c.

	* modify libc-linux/sysdeps/linux/i386/__load.c to search
	  /usr/lib/, /lib/, then "". change jump/*/jump.params*.

	* change change __PATH_ETC_INET from "/etc/inet" to
	  "/etc" :-).

Mon Mar  1 13:57:54 1993  H.J. Lu  (hlu@nighthawk)

	* put regex back in lite.so.x.y. fix ./libc-linux/Makefile
	  and libc-linux/jump/libc.lite/jump.*.

Sun Feb 28 13:47:53 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1e is released.

	* fix ./libc-linux/Makefile and ./libc-linux/gcc/Makefile for
	  libgcc.sa.

	* make libgcc.a for i486.

	* fix libc.sa.

Sat Feb 27 16:47:53 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1d is released.

Fri Feb 26 18:47:53 1993  H.J. Lu  (hlu@nighthawk)

	* fix dirent/scandir.c from alfie@dcs.warwick.ac.uk (Nick
	  Holloway). The 'select' parameter is allowed to be null,
	  meaning choose all, as is the 'cmp' parameter.

	* add BC, PC and UP to libcurses.sa (jump/libc/jump.vars).

Wed Feb 24 11:08:40 1993  H.J. Lu  (hlu@nighthawk)

	* add
		.EXPORT_ALL_VARIABLES:
	  to libc-linux/Makeconfig.

	* fix posix/mktemp.c: check if a templated file
	  exists and always start from the very first letter.

	* change bsd/mkstemp.c: use algorithm in posix/mktemp.c
	  directly.

	* add i486 support to ./crt/[g]crt0.S.

	* add more tests to sysdeps/linux/i386/math/test-math.c.

	* `remove' symbols in regex.o from jump/libc.lite/jump.funcs
	  and jump/libc.lite/jump.vars. save the old ones in
	  jump/libc.lite/saved.

Tue Feb 23 23:23:56 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1c is released.

	* cleanup Makefiles.

	* apply fix to sysdeps/linux/i386/math/cosh.S and add i486
	  support to libm.a.

Tue Feb 23 15:23:56 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1b is released.

	* remove ./jump/src. use tools-x.y.tar.z

	* add __vt$xxxxxxxx from iostream to jump/libc/jump.vars
	  and jump/libc.lite/jump.vars, and pad the size of them
	  by 0x40 bytes.

Sun Feb 21 20:32:05 1993  H.J. Lu  (hlu@nighthawk)

	* cleanup Makefiles.

	* fix sysdeps/linux/i386/math/cosh.S and add i486
	  support to libm.a.

	* reduce the jump table size and GOT size.

Sat Feb 20 23:32:05 1993  H.J. Lu  (hlu@nighthawk)

	* version 4.3.1a is released.

	* in <gnu/types.h> change all "linux" to "__linux__"

	* cleanup libm.a and add support for

		make MATH=true [SHARED=true]

	* in grp/initgroups.c, close the file descriptor for
	  /etc/group.

	* make "signgam" always external in <math.h>

	* copy <ieee754.h> from gnu libc 1.05. change <soft.h>
	  to <ieee754.h>: /cvt/cvt.c, ./misc/ldexp.c, ./misc/modf.c
	  and ./sysdeps/linux/i386/math/frexp.c.

	* futher cleanup Makefiles. add support for

		make LITE=true

	* inc 4.3.1, h_errlist and h_nerr are put back
	  in libc.sa. BC, UP and PC are moved from
	  libcurses.sa to libtermcap.sa. __new_handler
	  is put back in libgcc.sa. those may cause some
	  troubles for binaries linked with 4.3, i.e.,
	  Xfree86 1.2. that also means 4.3 is not 100%
	  compatible with 4.2 and 4.1.

	* add ".long 5" as the end of jumptable1/inet/herrlist.S
	  for h_nerr. the real one is moved to new location. but
	  will someone really want to change that number?

	* in jump/libc[.lite]/jump.ignore, those symbols in
	  libgmon.a and libm.a are removed. h_errlist and h_nerr
	  are also removed since they are in jump.vars now.

Fri Feb 19 00:28:58 1993  H.J. Lu  (hlu@yardbird)

	* version 4.3.1 is released.

	* add __tcgetattr () to <termios.h>.

	* include <sys/ioctl.h> in ./login/getpass.c.

	* undefine _POSIX_SOURCE for linux in
	  ./iostream/procbuf.C. that is done automatically
	  under linux.

	* cleanup Makefiles to use GNU make and make it
	  easier for the shared library. try to build
	  the dll in ./libc-linux

	* move tools 1.9 to ./jump/src.

	* include <fcntl.h> in termcap/termcap.c.

	* replace __fcntl.c, __ioctl.c and __open.c with
	  assembly codes. move them from
	  libc-linux/sysdeps/linux/i386 to
	  libc-linux/sysdeps/linux.

	* add PIC to <syscall.h>

	* add PIC to  ____sig.S, __brk.c, __sbrk.c, __select.c,
	  __sigact.c, getprio.c, ptrace.c, readdir.c, sigsuspend.c,
	  sysdep.h in libc-linux/sysdeps/linux/i386. PIC is not
	  supported in libc-linux/sysdeps/linux/i386/syscall.c yet.

	* add ./gcc for libgcc.a from gcc 2.3.3.

	* add ./compat for libcompat.a.

Tue Feb 16 14:42:32 1993  H.J. Lu  (hlu@yardbird)

	* Fix libc-linux/sydeps/linux/i386/__load.c for emacs
	  from Eric Youngdale.

Mon Feb 15 09:11:20 1993  H.J. Lu  (hlu@yardbird)

	* the Linux C library 4.3 is released.

	* take "const" out of "struct timeval" of select () in
	  <sys/time.h> and libc-linux/sysdeps/lnux/i386/__select ().
	  no need to recompile the library.

Sun Feb 14 13:11:20 1993  H.J. Lu  (hlu@yardbird)

	* in posix/sleep.c, restore the signal mask before
	  return. some small changes to make it more reliable.

Fri Feb 12 15:41:43 1993  H.J. Lu  (hlu@yardbird)

	* make posix/sleep.c more reliable with signal blocking.

	* add one more check to sysdeps/linux/i386/sigsuspend.c

	* modify crt/gcrt0.S for dll.

	* take <getopt.h> out of <stdlib.h>. fix your code if
	  you have to.

	* for non-kernel header files change "linux" to "__linux__"
	  and "i386" to "__i386__".

Thu Feb 11 23:31:55 1993  H.J. Lu  (hlu@yardbird)

	* fix iostream/streambuf.C, ungetc (c, fp) with
	  c != char was just read.

        * from jrs@world.std.com (Rick Sladkey), in ./rpc, fix
	  clnt_tcp.c, clnt_udp.c, getrpcent.c, pmap_rmt.c,
	  svc_au_ux.c and svc_tcp.c. select () modifies its last
	  argument, timeout. also fix posix/sleep.c when
	  it is interrupted by a signal.

	* from Eric, for dynamic linking, crt/crt0.S and
	  sysdeps/linux/i386/__load.c.

Wed Feb 10 15:34:59 1993  H.J. Lu  (hlu@yardbird)

	* include <linux/limits.h> in <dirent.h>, instead of
	  <limits.h>.

Thu Feb  4 11:05:57 1993  H.J. Lu  (hlu@yardbird)

	* complete <protocols/talkd.h>.

Wed Feb  3 23:40:44 1993  H.J. Lu  (hlu@yardbird)

	* fix sysdeps/linux/__flock.c to use F_SHLCK and
	  F_EXLCK.

	* copy fnmath.[ch] from gnu tar 1.11.1.

Wed Feb  3 15:44:44 1993  H.J. Lu  (hlu@yardbird)

	* fix sigaddset (), sigdelset () and sigismember()
	  in <signal.h>.

Sun Jan 24 15:30:19 1993  H.J. Lu  (hlu@yardbird)

	* fix a typo in iostream/filebuf.C.
	  filebuf::open (filename, "a+") should
	  set `read_write' with

	  read_write &= _S_IS_APPENDING;

	* apply patches from Per for pipe error.

	* apply patches from Ted for posix/getcwd.c, fixing
	  stat (x, y) -> lstat (x, y).

	* fixe misc/syslog.c. open things with O_NOCTTY.

Mon Jan 18 12:35:37 1993  H.J. Lu  (hlu@yardbird)

	* add _CURSES_H to <curses.h>.

Fri Jan  8 16:22:04 1993  H.J. Lu  (hlu@yardbird)

	* fix __sigismember() in <signal.h> to check of sig # is less
	  than _NSIG.

Sat Jan  2 14:00:35 1993  H.J. Lu  (hlu@yardbird)

	* include <linux/vt.h> in <sys/vt.h>.

	* include <linux/kd.h> in <sys/kd.h>.

	* change <regex.h> for C++.

Fri Jan  1 14:00:35 1993  H.J. Lu  (hlu@yardbird)

	* fixe typos in <shadow.h>.

	* include <shadow.h> in <grp.h> and <pwd.h> if
	  SHADOW_PWD is defined.

	* make fd == 0 ok in ./bsd/mkstemp.c.

	* change __sigsetjmp to sigsetjmp in <setjmp.h>.

        * set LINES and COLS in ./jumptable1/curses/curses.c
	  to be 0.

Tue Dec 29 21:22:53 1992  H.J. Lu  (hlu@yardbird)

	* add shadow.h.

	* fix checking file existence in bsd/mkstemp.c and
	  iostream/stdio/sysd-stdio.c.

	* change `__bits' in `fd_set' to `fds_bits'. rpc/svc.c.

	* change "%E" and "%G" to be the same as "%e" and
	  "%g".

	* the Linux C library 4.2 is released.

Sun Dec 27 23:38:08 1992  H.J. Lu  (hlu@yardbird)

	* use new inet/gethstnmad.c.

	* put libnet and librpc back into libc to avoid
	  confusion.

Sat Dec 19 13:50:23 1992  H.J. Lu  (hlu@yardbird)

	* upgrade iostream to libgcc 2.3. add 0's before the decimal
	  point in iostream/outfloat.C.

	* comment out fsync () in <unistd.h>

	* add ulimit (). No support for setting break values.

	* use sigaction () in sleep.c.

Thu Dec  3 16:17:52 1992  H.J. Lu  (hlu@yardbird)

	* separate libnet.a and librpc.a from libc.a.

	* modify ./jumptable1/inet to make sure the new shared
	  libraries are compatible with old ones.

	* all kinds of misc changes for backward compatibilities.
	  It is very ugly.

	* massive changes to shared libraries for backward
	  compatibilities. I don't like what I did.

	* move ./rpc/bindresvport.c to ./inet.

Sun Nov 29 14:56:32 1992  H.J. Lu  (hlu@yardbird)

	* fix typo in <gdbm.h>.

Fri Nov 27 23:56:32 1992  H.J. Lu  (hlu@yardbird)

	* typo in memset.c, add the 4th copy.

	* fix sysd-stdio.c and change TMP_MAX in <stdio.h>
	  to 238328.

	* add __stdio_gen_tempname to jump table.

	* fix getcwd.c.

Thu Nov 26 15:56:32 1992  H.J. Lu  (hlu@yardbird)

	* use __MALLOC_0_RETURNS_NULL in <stdlib.h>
	  and <malloc.h>.

	* add const to struct timeval of select () in <sys/time.h>
	  and __select.c.

Mon Nov 23 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* change signal () back to unreliable, usg style.
	  put __USE_BSD_SIGNAL back in <signal.h>.

Sat Nov 21 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* add fchmod () to <sys/stat.h>.

	* fix <dirent.h>, not include <stdlib.h>.

	* change <stdlib.h> for <dirent.h>. use
	  MALLOC_0_RETURNS_NULL in <stdlib.h> and
	  <malloc.h>. change extern in malloc () to
	  static when MALLOC_0_RETURNS_NULL is not
	  defined.

	* add __old_getdtablesize () to shared image.

Fri Nov 20 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* comment oout IP_OPTIONS in <netinet/in.h>. Linux
	  doesn't have it for the moment.

	* don't use ld -x -r on crt0.o/gcrt0.o.

	* change signal () to reliable, bsd style.
	  add __USE_USG_SIGNAL to <signal.h>.

	* apply jrs@world.std.com (Rick Sladkey)'s patches
	  for sources and header files of rpc.

	* change BAD_SIG to BADSIG in signal.h.

	* change the definitions of malloc and calloc in
	  stdlib.h.

Thu Nov 19 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* put __old_select () back in shared image with a minor fix.

Tue Nov 17 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* delete __old_select ().

	* add <sys/mtio.h>.

Sat Nov 14 10:56:32 1992  H.J. Lu  (hlu@yardbird)

	* use alpha libg++.a 2.3

	* use GNU regex 0.11.

	* add __muldi3 () __udivdi3 (), _udivmoddi4
	  and __umoddi3 () to jump table. They are used
	  by iostream.

Thu Nov 12 12:40:46 1992  H.J. Lu  (hlu@yardbird)

	* change fd_set and FD_XXX for 0.98 pl 4.

	* add NFDBITS.

	* add __old_select () to to shared image.

	* fix sigaction (sig, NULL, old).

Thu Nov  5 12:25:06 1992  H.J. Lu  (hlu@yardbird)

	* add syslog.c, paths.h. It uses UDP on domain
	  socket. It has not been supported in kernel
	  yet.

Mon Nov  2 13:58:01 1992  H.J. Lu  (hlu@yardbird)

	* move new glob () and globfree () to new location in jump
	  table. redirect old glob () and globfree () to __libc_changed ().

	* fix typo in socket functions.

	* add utimes, idle, insque, remque, localeconv, memfrob, memmem,
	  nlist, getusershell, endusershell, setegid, seteuid, strfry,
	  strsep and syscall.

	* change system call back to push/pop.

	* move syscall (), __open (), __ioctl () and __fcntl () to
	  sysdeps/linux/i386 since they use <stdarg.h>. With push/pop,
	  we may move them back to sysdeps/linux.
	 

Tue Oct 27 01:21:25 1992  H.J. Lu  (hlu@yoda)

	* define TZDIR to "/usr/lib/zoneinfo" in
	  ./time.

Fri Oct 23 16:24:47 1992  H.J. Lu  (hlu@yardbird)

	* fix signal.c. use sigaction ().

	* fix perror.c.

	* check if a file exists in iostream/stdio/sysd-stdio.c.

Thu Oct 22 11:36:01 1992  H.J. Lu  (hlu@yardbird)

	* add mkstemp ().

	* fix a memory leak in grpread.c.

Sun Oct 18 11:08:14 1992  H.J. Lu  (hlu@yardbird)

	* change psignal (unsigned int, ..) to psignal (int, ...).

	* get localeconv () from glibc 1.05.

	* fix const in signal.h and errno.h.

Tue Oct 13 01:07:32 1992  H.J. Lu  (hlu@nighthawk)

	* add flock ().

	* add utimes (), seteuid () and setegid ().

	* add insque () and remque ().

	* fix getsocketopt (), get new socketcall.h from the
	  kernel source.

Wed Oct  7 18:16:09 1992  H.J. Lu  (hlu@nighthawk)

        * add sun rpc 4.0.

	* change a few header files for gcc 2.3, stdio.h.

       * change <traditional.h> to <sys/cdefs.h> and use __P instead of
         _ARGS.
						   

Tue Oct  6 01:01:55 1992  H.J. Lu  (hlu@nighthawk)

	* use scandir, alphasort and ftw from glibc 1.05.

	* use <sys/cdefs.h> from glibc 1.05 to replace <traditional.h>.

	* system call idle was added.

	* the floating point output bugs, `%-xxx' stuff, were
	  fixed.

	* there was a new structure for compiler:
	  different versions of library, i.e., static, jump table
	  and classic shared library, would be in the same directory.
	  static verion would be libfoo.a. jump table version would
	  be libfoo.sa and classic version would be libfoo.ca. `ld'
	  would search for the jump table library by default. you can
	  overwrite it by adding -static or -nojump to `ld' or 'gcc'.
	  jump table and classic verions are not compatible with
	  each other. and the static library is used as the last
	  resort.

	* strcmp, strncmp and memcpy were fixed for unsigned char.

	* sun rpc 4.0 was in.

	* the GNU C library 1.05 was used.

	* use `xchg' in system calls.


Fri Sep 11 13:29:05 1992  H.J. Lu  (hlu@poly2)

	* rearrange the file structures of gcc. separate compiler from
	  libraries and header files. Here is the new structure:

	  1. static libraries are in /usr/lib.
	  2. jump table version of shared library stubs are in
	     /usr/lib/shlib/jump.
	  3. classic version of shared library stubs are in
	     /usr/lib/shlib/nojump
	  4. default for gcc is jump table. the other options are -nojump
	     and -static. -g and -pg will use the corresponding static
	     libraries.

        * shared images are in a separate package.

	* from this release on, the gcc will follow the FSF naming. the
	  libraries will be named after jump table version number. the
	  current versions are gcc 2.2.2d, the Linux C library 4.1 and
	  the Linux math library 4.0. the Linux math library won't change
	  with the minor version number. so for all the version y.xxx's,
	  there is only one release of math library, version `y.0'.

	* file list for gcc 2.2.2d, libc 4.1 and libm 4.0:

	  1. 222d7.TZ
	     gcc 2.2.2d linked with jump table 4.1. it has gcc, cc1,
	     cc1plus and cpp. it also has version dependent header
	     files. unpack it under /.

	  2. lib41.tar
	     static libraries and shared library stubs. it has lib-4.1.TZ
	     and lib-4.1.sh. run lib-4.1.sh will install lib-4.1.TZ. do
	     
	     lib-4.1.sh

	     you have to have a real sh to run it. This script is used to
	     install the math library, soft or hard.

	  3. inc-4.1.TZ
	     header files for lib 4.1. unpack it under /. You have to make
	     two symbolic links. one from include/linux of kernel source
	     to /usr/include/linux, another from include/asm of kernel
	     source to /usr/include/asm. There is a file,
	     /usr/include/linux/const.h. You have to move it to
	     include/linux of kernel source before you make symbolic link.
	     unpack it under /.

	  4. jump41.tar
	     shared images for jump table 4.1. it has jump-4.1.TZ and
	     jump-4.1.sh. do

	     jump-4.1.sh

	     to install jump-4.1.TZ. this script is used to install the
	     shared math image, soft or hard.

	  5. libdp-4.1.TZ
	     libc_p.a and libg.a. unpack it under /.

	  6. jump-src-4.1.TZ
	     scripts for build jump table 4.1. almost no documentations.
	     contributions are welcome.

	  7. lib-src-4.1.TZ
	     source code for the Linux C library 4.1.

        * the install procedures are minimal. it didn't do much file
	  permission fixing. fix them when you find they are wrong.

	* this release contains no new binaries for gcc, cc1, cc1plus or
	  cpp. only things changed are in libraries.

Mon Sep  7 13:44:09 1992  H.J. Lu  (hlu@poly2)

	* change to jump table 4.1

	* add prefix __ to header files.

	* use strftime from shellutils 1.7 to replace the one from
	  glibc.a 1.03.	

Sat Sep  5 16:57:21 1992  H.J. Lu  (hlu@poly2)

	* swapoff, wait4 (real one, need 0.97 pl3 or above) are
	  added.

	* vm86 () and <sys/vm86.h> are added.

Fri Sep  4 17:31:44 1992  H.J. Lu  (hlu@meriadoc)

	* change jump table to 4.0. Add __brk_addr to global data.
	  fix streambuf static member, _list_all.

Wed Sep  2 13:01:59 1992  H.J. Lu  (hlu@poly2)

	* __overflow () and __underflow () are moved into a separate file
	  to facilitate the implementation of jump table.

	* getdtablesize () returns OPEN_MAX.

Mon Aug 31 16:14:38 1992  H.J. Lu  (hlu@poly2)

	* new getpass () from poeigl-1.6.tar.Z.
	
	* add C++ wrapper in setjmp.h.

	* GNU regex 0.9 is used.

	* file lock in gdbm is changed for real thing in 0.97 pl 2.

	* ntol? () and hton? () netinet/in.h are fixed. 

Thu Aug 27 00:12:10 1992  H.J. Lu  (hlu@yoda)

	* regex (version 0.9) from shellutiles-1.7 is used.

	* bsd style signal () is added in <signal.h>. define _USE_BSD_SIGNAL
	  to use it.

	* sigblock and sigpause () are added.

	* ftw () is added. It is untested. It uses seekdir and telldir ().
	  I am afraid it may not work with VFS.

Wed Aug 26 00:17:33 1992  H.J. Lu  (hlu@fili)

	* scandir () and alphasort () are added.

	* killpg () is added to <signa.h>.

Sun Aug 23 14:49:23 1992  H.J. Lu  (hlu@poly2)

	* some files are changed for the new shared image scheme.

	* you have to have 0.97 pl 2 or above to use it.

	* define WTMP_FILENAME and UTMP_FILENAME as WTMP_FILE and
	  UTMP_FILE in  <utmp.h>.

Sat Aug 22 10:57:11 1992  H.J. Lu  (hlu@luke)

	* fix re_comp ("").

	* setfileno () is added to stdio. don't use it unless you have to.

	* use POSIX signals in curses, ./posix/system.c and
	  ./iostream/procbuf.C
	  

----------------Start to Use ChangeLog------------------

Thu Aug 12 1992 

	* gcc-2.2.2d
	You need to have the header files from virgin Linux kernel 0.97 patch 1 
	or above on line to use this release.
	The source codes for gcc itself is unchanged from 2.2.2, but it was
	recompiled for new kernel. And lots of bugs are fixed.

	I am trying to make the Linux C library to be POSIX.1 compliant. I
	cleared up the header files and some library functions.
	1. <limits.h> and <unistd.h> are fixed. (in 2.2.2dmisc.tar.Z)
	2. <time.h> is fixed, remove __tzname_max (). (in 0.97pl1inc.tar.Z)
	3. posix/sysconf.c. (the shared image is compiled with old one. I
	   don't think it will matter too much. this will be fixed in the
	   next release.)
	4. time/Makefile (remove tzname.o)

	There are some problems with pathconf()/fpathconf(). We need a new
	sys call to get info about the filesystem. Someone mentioned
	vfsstat (). It may be a good idea. To be compliance with POSIX.1, we
	need
	1. LINK_MAX
	2. MAX_CANON
	3. NAME_MAX
	4. PATH_MAX
	5. PIPE_BUF
	6. _POSIX_CHOWN_RESTRICTED
	7. _POSIX_NO_TRUNC
	8. _POSIX_VDISABLE
	Some of them may change for different filesystems. Some don't. Some may
	do in the future.

	The installation procedure is changed. Please read README first.

	The new correct setjmp/longjmp are not compatible with gcc 2.2.2. If
	your code uses them, please recompile it with gcc 2.2.2d. And
	DO NOT USE setjmp/longjmp WITH THE SHARED X386 v1.1, WAIT FOR v2.0.

	The following bugs in libraries are fixed.
	1. div/ldiv.
	2. setjmp/longjmp.
	3. crt0.o/gcrt0.o. 387 control word is changed to 0x1272. No overflow
	   exception.
	4. floating point format errors are fixed.
	5. minor bug in mntent.c.
	6. popen.o is fixed in libg.a.
	7. fopen ("foo", "a") will seek to the end of file.
	8. printf ("%10.2f\n", 10.0);
	9. libg++.a 2.2 is used.
	10. libinet.a is folded into libc.a. All the data bases are in
	    /usr/etc/inet. But you need kernel support for that. Please
	    contact "bir7@leland.stanford.edu" first.
	11. a typo in libc-linux/socket/bytedorer.c is fixed.
	12. size of args + envs for exec () is fixed.
	13. new mount for 0.97.
	14. a bug in temporary filename creation is fixed. Now it checks
	    if a process has permission to create a file in specified directory.
	15. in libhard.a, pow (0.0, 0.0) = 1.0 now.
	16. cc1/cc1plus is fixed for
	    double foo=DBL_MAX;

	The following functions are added to libraries.
	1. setpiority/getpiority.
	2. iopl.
	3. sigsetjmp/siglongjmp.
	4. cfree.

	The following changes are made to the header files.
	You won't notice the changes unless you are testing TCP/IP. If you
	are, please first contact "bir7@leland.stanford.edu". You need more
	than that.
	1. <stddef.h> is fixed.
	2. <stdlib.h> is fixed.
	3. all the header files are now compatible with gcc -traditional.
	4. strncasecmp is added to <string.h>.
	5. <sys/asy.h> is added.
	6. lots of bugs are fixed.
	7. <sys/user.h> and <a.out.h> are changed.
	8. <sys/socket.h> and <fcntl.h> are changed for TCP/IP.
	9. <sys/syslog.h> and <sgtty.h> are in for TCP/IP.
	10. lots of header files in kernel and /usr/include are fixed. 

	two dummies, <sys/reg.h> and <machine/reg.h> are added for gdb 4.6.

	The following changes are made to libraries.
	1. byte order functions for networking are written in C. Please read
	   libc-linux/socket/byteorder.c and <netinet/in.h>

	David's jump table version 2 release 2.1 is in.

Jun 27 1992
	* gcc-2.2.2 
	Please get the new binutils.tar.Z, which fixed some bugs in as 
	and gprof with some patches from Rick Sladkey at jrs@world.std.com
	I added some jumptable stubs to gcc. But I don't have the time to
	implement it. In the future, you can use jump table with -jump in
	CFLAGS.
	Libg++.a is 2.2 beta.
	This gcc will produce binaries only run safely under 0.96a patch level
	4 or above.

	The following bugs in libc.a are fixed.
	1. hard and soft math libs are fixed. some of functions are totally
	   rewritten.
	2. acosh, asinh and atanh are added to libsoft.a and math.h.
	3. open a file for read and write, then do fseek followed by fwrite
	   works now.
	4. now random () and srandom () are renamed to __random () and
	   __srandom (), respectively.
	5. the header files taken from glibc.a are fixed.
	6. the sys call mount now takes 4 args.
	7. getpagesize and getdtablesize work now.
	8. netdb.h, resolv.h, sys/uio.h, netinet.h, arpa/inet.h and
	   arpa/nameser.h are changed.
	9. Some function declarations are added to sys/socket.h in
	   0.96bp2inc.tar.Z.

	The following functions are added to libc.a.
	1. profil.
	2. libg.a is there.
	3. getdtablesize.
	4. lots of stuffs added to errno.h and string/errlist.c.
	5. some changes in string/siglist.c.
	6. dtoa.
	7. there is a new strtod, please check it out.
	8. drem.
	9. the inet library functions are in libinet.a. They are untested. Once
	   they are tested ok, they will be moved to libc.a. All the inet
	   library functions are there, except for res_xxxx, rcmd, rexec and
	   ruserpass, which require more kernel support, like F_SETOWN, FASYNC,
	   and a few network system calls.

	   There should also be a set of files in /etc for inet functions. I
	   hope Ross will provide them.

	   In this release, there is a libc_p.a compiled with "-pg" for profiling.

	   You should use "-g" for debugging and "-pg/-p" for profiling in CFLAGS
	   when you compile the source code.


Jun 16 1992 

	* gcc-2.2 based on FSF release gcc-2.2.1
	new binutils.tar.Z, which fixed some bugs in as.
	Libg++.a is 2.1
	A new structure of gcc is introduced here. All the static libs are in
	/usr/lib/gcc-lib/i386-linux/2.xxx and all the shared libs are in
	/usr/lib/gcc-lib/i386-linux/2.xxx/shared. By default, gcc will search
	/usr/lib/gcc-lib/i386-linux/2.xxx/shared first, then the static libs.
	You can turn off the shared libs with "-static".

	The following bugs in libc.a are fixed.
	1. dirent.[ch] are fixed such that static memory no longer is used in
	    readdir ().
	2. sys/dir.h sys/dirent.h are modified such that there will be a
	    warning when both of them are included. They are also compatible
	        now.
	3. __cpluscplus in fnmath.h
	4. gets () will only give a warning during linking.
	5. wait3 ().
	6. <stdio.h> is fixed. fputc, fgets and gets are no longer macros.
	7. <sys/user.h> is added in 0.96ap2inc.tar.Z.
	8. The return value of clock ticks of the old sysconf () was wrong. It
	    returned 60 instead of 100.
	9. The domain errors in the math libraries are improved.
	10. bsearch and qsort are fixed for zero element.

	The following functions are added to libc.a.

	1. accept
	2. bind
	3. bstring
	4. connect
	5. ftime
	6. fchmod
	7. fchown
	8. ftruncate
	9. getpagesize
	10. getpeername
	11. getsockname
	12. getwd
	13. ioperm
	14. itimer.
	15. listen
	16. mmap
	17. mntent.
	18. ntohs/htons
	19. ntohl/htonl
	20. psignal
	21. ptrace
	22. setenv/unsetenv
	23. socket
	24. socketpair
	25. statfs () and fstatfs ().
	26. truncate
	27. usleep
	28. vfork
	29. wait3() and wait4 ().

	Gdbm 1.5 is here for X11R5.

	popen now is based on iostream.

	I also changed the structure of header files.


May 30 1992
	* gcc-2.12c based on ss-920528 from FSF
	From this release, gcc will use the shared lib. That means you have
	to keep the shared images used by all the compilers you have.
	Now libg++.a 2.0.91 is here.

	The following bugs in gcc are fixed.
	1. "\xxx" works now.
	2. No more warning about "__FUNCTION__" stuffs.

	The following bugs in libc.a are fixed.
	1. hypot added to math.h
	2. popen is fixed by Per, Check it out.
	3. __cpluseplus in setjmp.h
	4. copy sys/dirent.h to sys/dir.h, but change dirent to direct.
	5. proto type of gdbm_open in gdbm.h
	6. Per tried to fix fseek/fread/fwrite. Check it out.

	Here is the list of the known bugs.
	1. -O won't work with getdate.c from shellutils 1.6.
	I am trying to fix the following bugs in libg++.a.
	1. Maybe Complex.o, which uses hypot.


May 27 1992
	* gcc-2.12b
	The following bugs in libc.a are fixed.
	1. types used in sigsetmask and siggetmask are now sigset_t.
	2. a minor change in sigproc.c.
	3. signal.h is changed.

	I am trying to fix the follwing bugs in libg++.a.
	1. Regex.o and String.o
	Please do this to fix the bug in libg++.a.
	/bin/rm -rf /usr/g++-include/regex.h


May 26 1992  
	* gcc-2.12	based on FSF prerelease of gcc-2.2.
	The follwing bugs in libc.a are fixed.
	1. index.
	2. sigxxxx return values should be right now.
	3. execxxx are taken from glibc.a 1.03. Please check it out.
	4. malloc in stdlib.h and malloc.h, when they are included together,
	they may cause trouble. Can I include malloc.h in stdlib.h and fix
	malloc in malloc.h?

	The following functions are added.
	1. tell (bsd)
	2. sigsetmask
	3. siggetmask
	popen now is based on iostream.

	I also changed the structure of header files. 
	Libg++.a 2.0.90 is here, which is MUCH better than the one in gcc
	2.11c. Please try this. Stdio should be less buggy. Check it out.
	To use this release, please get new binutils.tar.Z 
	which has a new gas.

May 19 1992
	* gcc-2.11c
	ldd is supported. 
	The source code of the libraries is in libc-2.11c.tar.Z. 
	There are two files:
	gcc-2.1.tar.Z, for compiler, including some tips for cross-compiling.
	shlib-2.11c.tar.Z, for building the shared libs.

May 17 1992 
	* gcc-2.11b
	1. sleep (0) is fixed.
	2. All binaries are recompiled with new gas.
	3. X11R5 is not the part of gcc 2.1 anymore.

	Please get the new binutils.tar.Z. The old one may have bugs.
